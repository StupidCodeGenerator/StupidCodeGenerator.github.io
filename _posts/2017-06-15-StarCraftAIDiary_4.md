---
title: "星际争霸AI日记_4"
layout: post
description: ""
robots: none
---

09:33

干脆搞一个生产计划表。因为一开始用两个数值表示了当前正在制造的农民以及希望的同时造农民的最大值。

但是后来发现造房子也是，需要明确造几个。否则一旦缺少房子，Ai就会把所有的虫卵变成房子。于是我们又得限定需要几个房子。

所以设计一个计划表。比如需要同时造多少农民，同时造多少房子，这样。

索引有两种方式。因为本身UnitType就是int值，可以直接作为index使用。也可以写个转换表，这样可以避免创建一个巨大的数组。

另外，外面需要调用的函数可以写到头文件里面，但是如果只是自己用，完全可以只把定义写到cpp里面。这就相当于private了。

12:20

Training 相关表

NumOfUnitsTraining 以及 MaxOfUnitsTraining

如果要造某东西，并不是直接查找虫子然后孵化，而是更新这个表。

然后在Update里面会不断检查这个表，如果发现某东西生产不足，就会启动孵化。

如果 NumOfUnitysTraining < MaxOfUnitsTraining 就不启动孵化。

这样，如果你需要停止建造某物，需要修改它的Max值。

另外，需要一个把UnitType转换成Index的函数，以及一个把Index转换成Type的函数

12:43

可以写一个PlanToTrain的函数，用来给定Type，需求，然后修改Max数值。

Max是手动修改的，Num不是手动修改的

12:51

不对

刚才那个系统，特别适合农民，但是不适合其他兵种。

TrainingPlan应该是个递减的量。造完就结束。

对于持续造农民的那种，一个一个造，就应该写逻辑，当一个农民造出来以后，再造。这个逻辑很特殊，和其他的建造都不同。

我应该是过于关注农民的建造，影响了其他逻辑的设定。

补农民是一个特殊逻辑。

13:55

造农民的好使了，但是造房子还是继续造，不知道为啥。这个和我设计的有区别啊。

如果MOrph函数有问题，可以考虑遍历所有的蛋。另外为啥造了一个房子，Plan没有减少？
