---
title: "星际争霸AI日记_12"
layout: post
description: ""
robots: none
---

14:36

API 中大量使用了std::list，所以我也可以使用list，虽然我听说过很多关于C++库有各种问题的说法，但是既然API里面用，我也就用。什么时候当我把C/C++游刃有余的使用时，我再决定自己的技术风格。

回头，把plan系统，和UnitWrapper应该有的orderlist系统，统统研究透。

另外，除了UnitWrapper之外，还有另一种思路，就是直接把UnitWrapper结构，设计成一个Manager控制很多个Unit那种。然后遍历它们依次下达指令。但是这样代码会比较混乱。

20:59

我觉得我可能有点过度设计了。先解决进攻问题吧。把UnitWrapper先留着

21:59

六只狗造完以后，等待一下。因为目前的第一波骚扰，对于当前版本AI非常坑比的操作来说，非常之没用。

如此一来，需要6d造狗么？9d是不是更科学？

22:28

目前看来，开分矿的矿点，API并没有提供，需要自己根据矿的位置来算放置分矿的位置了。

首先要明确，从什么地方可以get到类型为MineralField的Unit。

然后对MineralField 进行分析，分辨矿的走向，以及紧挨在一起的矿的个数。

然后计算矿的那一边是平地。 也有两边都是平地的。

然后计算矿朝向那一边弯曲。

以上这些都是可以抽象出来的模块。

然后，计算这一簇矿区的最佳建造位置。通过调试信息在屏幕上显示出来。

22:41

现有的代码太乱了，我需要整理一下思路，重写这坨代码。

现在的问题：

1. AI需要随时明白，自己处于什么样一个状态，应该做什么样的事儿。

2. AI需要有一个非常健壮的，非常堪用的计划系统。目前看来最大的问题出现在这里。

3. AI需要一套宏观指令，用来进行高效的决策传达。

所以，本质上，AI的大框架肯定是状态机，算法什么的都是往里面填充的内容。这个状态机设计的合理性，决定了整个AI的健壮性。

AI不需要三个管理器，只需要前方和后方两个管理器即可。后方负责爆兵，扩张等等，前方负责进攻，侦查。

作为一种设计原则，就是，只有当需要抽象的时候再抽象，任何过分的抽象都是增加复杂度的元凶。

所以：新的架构只有两个主要模块。剩下的都是辅助功能，每一种完成一个特定的操作。