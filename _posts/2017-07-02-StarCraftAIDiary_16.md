---
title: "星际争霸AI日记_16"
layout: post
description: ""
robots: none
---

10:32

我已经找到了如何shift指令的方法。但是由于后期可能存在的复杂指令，比如绕着地炮跑之类的，以及攻击的优先级等等，还是需要一个Unit包装类，用来实现将来可以在Unit身上实现的复杂算法。

10:49

实现UnitWrapper以后，把UnitWrapper挂到MyAiModule里面

11:07

看一下范例代码里面怎么实现的在屏幕上显示文字

16:18

好像又弄得复杂了。UnitWrapper先删掉吧。FrontManager解决一切

16:27

恩，唔了。UnitPlan应该和TrainingPlan（BuildingPlan）是类似的。不对Unit进行包装，一样可以实现Unit的计划任务系统。和BuildPlan一样, 只是把Unit的指针传入即可

19:45

操他妈，因为面向单位的操作都是实时的，所以没必要计划。我今天的状态真的不好。

20:44

去掉了计划以后，把以前写的侦查方法放到现在的代码里面. 

20:59

貌似应该前端和后端是两个状态机？后端通过现在造了多少兵，造到什么程度上进行区分。而前端通过现在正在进行侦查，还是进行第几波攻击来区分。两个状态机可能会相互等。

现在先不这么做，如果需要这么做自然而然代码会往那个方向发展。

21:42

在使用move指令的时候，第一个move不能使用带有shift参数的move

21:50

让虫族第二状态完成造20个狗。然后检查是否造完全部的狗并且已经查到对手的位置，发起攻击。

22:35

UnitMorph可以告诉我们现在是否已经有建筑物落下，落下的是什么。那么我们就可以知道，刚才放下的建筑物是否已经造好。但是还是最好能够拿到建造失败的事件。我要翻翻API的源代码。

或者换一种思路，一旦一个农民被作为builder，那么它最后肯定会死。那么我们检测这些builder，如果他们没死，并且没有isConstructing，那么就证明build失败了。我们需要重新build

建造检查还是有BUG,先不管了