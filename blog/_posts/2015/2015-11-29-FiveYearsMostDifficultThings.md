---
title: "编程第五年，目前认为最难做的两件事"
layout: post
description: "命名，注释"
robots: none
---

##命名

不服来辩，命名简直就是写代码能遇到的最大的坑。不管是匈牙利表示法还是驼峰规则，都只是给你提供了一种
“格式”而已。就好比说告诉你写文章不能出格子，每一段开头空两格这样。

但是想想一下，不管是类名，文件名，变量名，函数名，你最多也就能写20多个字符，写的太长了啰嗦，
写的太短了别人看不懂（不知为何想起了php，笑）。这20个字符，你需要尽可能的说明白这个变量是干嘛用的，
怎么个格式，尤其是那些抽象的对象或者是数据结构，简直坑。比如写一个股票软件，里面的一个函数的功能
是返回一个字典结构的数据，表示的是买入价格和N天以后期望收益的关系曲线。这个函数命名咋写？
要是按照意思写就是CurveOfBuyInPriceAndExpectProfit，真他妈长。

但是你看看WindowsAPI：

CLSIDFromProgIDEx

这他妈是啥？我Windows写的少，不过我相信即使经常写Windows，第一次如果看到这种命名估计没有个一个钟头可能都搞不懂。

当然这种问题也不能太强求，毕竟20个字符包含不了那么多信息，还要直白精炼简直要人命。
但是不得不说这是我写了5年代码后，依然非常难以搞懂的东西。

##注释

写不好的注释就是坑，不服来辩。写注释虽然没有命名那么要命，但是这个东西也没有办法百分之百写好。
并且写注释还有一个更严重的问题就是注释需要手动和代码一起更新。代码不断在更新，不断有新的功能，
删除旧的功能，也许还有未完成的坑，警告等等。如果代码更新了，注释没有更新，一般程序员读代码都会先看看
注释，然后就被带沟里，耶。然后本来能看懂的代码也看不懂了。

我现在其实特别爱写注释，因为实在是，没法看懂一篇一点注释都没有的代码。但是我还特别担心注释太多
对代码产生误导。以前看书好像说注释字符量在15%左右比较正常，但是这就像驼峰表示法一样，只是个格式
而已，对于注释里面应该写什么东西，好像还真没有什么教程来写一下。

##总结

你发现没，这两件事都是说白了都有点像表达能力之类的非技术问题。如何将自己的想法使用自然语言表述清楚，
这件事如果想明白了命名和注释就好写的多。看来程序员的表达能力不光在代码之外重要，在写代码的时候
其实依然重要。但是很遗憾我认为这东西是不可能有标准教材的，套一句佛教的词儿，有点“般若”的意思。
命名精准，注释清楚，代码结构清晰，此乃大智慧也。
