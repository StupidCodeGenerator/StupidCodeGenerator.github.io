---
title: "思维笔记：为什么你在阅读代码的时候需要一个笔记本"
layout: post
description: "我说的是纸质笔记本，不是笔记本电脑"
robots: none
---

![img](http://i1.tietuku.com/a3d00ed8832e3b38.jpg)

非常非常幸运，我从业已经到第五年了，几乎从来没有阅读别人代码的需求。 仅有的代码阅读经验都是从开源代码中得到的。
而且每次都是读自己感兴趣的一小部分，从来没有需要百分之百的理解过别人写的东西。 直到最近需要接手一个别人写的东西，
并且还需要大范围的修改它，改进它，最后用作其他领域，才开始真正正视阅读代码这件事。

阅读别人的代码痛苦众所周知，但是阅读自己的代码有的时候依然很晕。 我想本质上是因为代码的组织方式和人的思维习惯不符。

![img](http://i1.tietuku.com/231339fa2a10a7a7.jpg)

上面是人类的传统思维方式，下面是一般情况下代码的组织方式。 所以我们人类面对这种东西的时候的感觉应该和走迷宫
非常接近。 每一次我们从一个节点往下走都像是遇到了迷宫的岔路口。 我们无法同事处理节点的两个分支正如我们不能够
同事走向迷宫的两个岔路。 我们必须走向一个方向，如果碰壁了以后再回到原来分支的地方然后走向下一个方向。

![img](http://i1.tietuku.com/26bc5b5e79a9f4f0.jpg)

**在走迷宫的时候，一般聪明的人会在迷宫中做下记号，当自己从这个岔路口向前的时候，如果走不通，
可以顺利的回到原来的位置而不会迷失方向。 **

这就是我为什么说阅读代码的时候需要一个笔记本的原因：当你阅读代码的时候，
避免你迷失方向。

以面向对象程序为例，我的做法是这样的：

1. 首先找到入口类，遍历这个入口类，列出里面那些需要深入阅读的对象。 在纸上记下他们。 并且逐个阅读那些重要的函数，在纸上记下这些函数的名字，以及他们实现的功能。 或者是你对他们功能的猜想。

2. 从第一个对象开始，打开这个对象对应的类，在纸上记录下他的类名，遍历一下里面出现的对象，并且继续阅读那些重要的函数，在纸上记下他们的功能。
	
3. 然后回到入口类，阅读下一个对象对应的类，并且继续在纸上进行记录。

4. 直到将入口类中关键的对象都阅读了一遍，然后开始选择那些看起来最重要的类进行阅读。

聪明的你已经发现了吧，我这实际上就是一层一层的遍历树的节点。不过和计算机算法中通常的遍历不同，
我的遍历顺序是依照人的由浅入深的思维习惯来组织的。 但是这样一层层的遍历了整个代码后，虽然没有遗漏，但是我不敢说
百分之百的就能够将整篇代码全部理解。 你还是需要耐心的帮助，一遍一遍的不断遍历这些代码，最后肯定能够完全读懂。

你的笔记的作用实际上就是给你一个空间能够让你执行这种线性化的遍历操作。否则你很有可能读着读着就忘记你什么地方见过什么地方没见过了。

