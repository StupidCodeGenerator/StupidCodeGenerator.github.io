---
title: "人造系统中的状态机思想，及其优缺点"
layout: post
description: "简单的说，状态机的目的是用尽可能简单的接口控制复杂系统"
robots: none
---

![img](http://i1.tietuku.com/7bae2dc586c46085.jpg)

**顾名思义，状态机就是拥有多种状态于一身的机器。**举例来说比较合适：最简单的状态机应该就是电灯。
开关打开，亮，开关关掉，灭。电灯拥有亮，灭两种状态，并且这两种状态可以相互转化，这就是状态机。

复杂状态机最好的例子就是我们的电脑以及软件。最近读一本关于游戏的书，里面有句话很直观的说清楚了这件事：
“同样是鼠标点击拖放，在Excel里面索然无味，但是如果换成暗黑破坏神，那就有意思多了。” 这就是一个典型的复杂
状态机，电脑可以处于游戏，视频，文本，浏览器等等各种状态。不同状态下的电脑会对你同样的操作做出不同的反应。
Excel状态下的鼠标点击是单元格选择，游戏里面可能是攻击，拾取（这恰恰又说明了一个状态下的子状态），移动等等。
而在视频播放器中可能是暂停或者播放，而在浏览器中可能一次点击会让你跳转到另一个页面。如果你尝试观察一下
你身边的任何人造设备，不管是电视冰箱洗衣机，还是空调电脑热水器，都能找到状态机的影子。

那么，为什么人造系统多采用状态机的思想来构建？

我思考了一段时间以后认为，使用状态机的最主要原因是**没有其他的办法让简单的接口能够控制复杂的系统**。
换句话说，状态机很大程度上隐藏了系统的复杂度。用户不会一下子面临系统提供的千千万万种功能，而只是
复杂的状态机系统的最上一层。你随便打开一款游戏，不管多么复杂，其实一开始的界面都差不多

![img](http://i1.tietuku.com/b50cd7673f7ce372.jpg)

（不知道这是啥游戏，但是都那么回事，我随便从网上找的）

这就是一种典型的隐藏复杂度的例子。复杂的游戏隐藏在了每一个按钮后面，避免用户一开始就被大量的信息淹没。

那么，状态机为什么难以被人接受，总是给人一种一头雾水的感觉？想象一下吧，当你第一次见到PhotoShop，VisualStudio等等大型软件，或者是像星际争霸那种复杂的即时战略游戏，如果没有教程在手你多长时间能够搞懂这坨东西？

我觉得最主要的问题，**是状态机简化了接口的同时也隐藏了信息。**

![img](http://images.51cto.com/files/uploadimg/20110928/0919563.jpg)

这是地球人都见过的开始菜单。如果你没有用户手册的情况下，你只能够通过第一级菜单的名字来猜测你想要的功能在哪里。
比如说我要玩个扫雷，首先必须得明白扫雷实际上是个程序，嗯，然后从程序里面找，没有扫雷，但是有附件，嗯，
那有可能是附件把。附件里面有游戏，游戏里面有扫雷。四层啊同志们，用户想玩个扫雷需要四层啊。在我最终找到扫雷
之前我完全不知道这扫雷上哪里去找啊同志们。

这还只是第一个问题。第二个问题，我觉得更本质的原因，是因为**人脑不是状态机，也不容易理解状态机**，
人脑是无状态的使用极为复杂的接口
接受并处理外部信息的，人的听觉，嗅觉，视觉，触觉等等，接受的都是非常复杂，充满了噪声和干扰的信息，并且
人脑使用极为复杂难以想象的系统从这些信息中分析出有用的信息并最终影响决策。并且，可能是由于进化的原因，
人脑并没有明显的状态，不论是睡觉，吃饭，思考，人脑都不会改变处理信息的方式，即使一个熟睡的人，他的感觉系统
依然工作着，所以我们才能够叫醒他。所以，我认为，如果人造系统的接口可以非常复杂的话，状态机这种结构
迟早有一天会被拥有复杂的可以接受自然语言信息的人工智能所替代。

即使是现在，我们也能够看到复杂化的接口导致去状态化的例子。

![img](http://www.techweb.com.cn/upload/2011/0316/img20110313002810000.jpg)

这是一张手机系统的界面，和PC系统以及软件的状态机结构不同，手机一股脑的把所有能够提供给用户的功能全部放到了
最上层，用户不用通过程序，附件，游戏才能玩到扫雷，手机上的游戏就放在哪里，你只需要从一大堆图标中找出来。
**表面上看给用户的信息更多了，但是事实上却大大的降低了用户甄别信息的难度**，换句话说，更加的“人性”。

这样做是有条件的，第一是手机能够提供的功能本身就被限制在一定范围内，你不能想象把整个Matlab都装到手机里。
第二点也是更重要的一点，是输入方式变得更加的复杂，包含了更多的信息。这样说有点反直觉，
但是触摸输入对于机器本身而言确实要处理更多的信息。用户触摸的位置，滑动的速度，距离，等等。
**相比简单的按键开关来说，这其实更像是机器实现了触觉。**早期的智能机没有这种复杂人机接口的时候，
其组织方式依然非常像一个状态机。

![img](http://i1.tietuku.com/394fd0ce0cd69afd.jpg)

并且你会发现，当PC也能够进行触摸控制以后，Windows的开始菜单变成了这样：

![img](http://i1.tietuku.com/f65a85b1fbc6ba27.png)

说到这里不得不说一下苹果公司的远见卓识，在触摸屏出现的早期年代，很多公司拿着触摸屏依然把手机做成了状态机，
而苹果公司发现了这种复杂接口对人机交互的深远影响，改变了手机行业的面貌。
